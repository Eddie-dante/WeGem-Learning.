<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEGEM Learning - Kenyan Digital Learning Platform</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-content">
            <h1>WEGEM <span>Learning</span></h1>
            <p>Kenya's Premier Digital Learning Platform</p>
            <div class="loading-slideshow" id="slideshow"></div>
            <div class="loading-progress">
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <p>Initializing AI Learning System...</p>
            </div>
        </div>
        <div class="watermark">WEGEM Learning</div>
    </div>

    <!-- Registration Screen -->
    <div id="registration-screen" class="hidden">
        <div class="registration-container">
            <div class="registration-header">
                <h2>Welcome to WEGEM Learning</h2>
                <p>Choose your curriculum to continue</p>
            </div>
            
            <div class="curriculum-selection">
                <div class="curriculum-card" id="curriculum-844">
                    <div class="card-header">
                        <i class="fas fa-school"></i>
                        <h3>8-4-4 Curriculum</h3>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><i class="fas fa-check"></i> Forms 1-4 System</li>
                            <li><i class="fas fa-check"></i> KCSE Examination Focus</li>
                            <li><i class="fas fa-check"></i> Traditional Kenyan Education</li>
                            <li><i class="fas fa-check"></i> Subject-based Learning</li>
                        </ul>
                    </div>
                    <button class="select-btn" onclick="selectCurriculum('844')">Select 8-4-4</button>
                </div>
                
                <div class="curriculum-card" id="curriculum-cbc">
                    <div class="card-header">
                        <i class="fas fa-graduation-cap"></i>
                        <h3>CBC Curriculum</h3>
                    </div>
                    <div class="card-body">
                        <ul>
                            <li><i class="fas fa-check"></i> Competency Based</li>
                            <li><i class="fas fa-check"></i> Grades 1-12</li>
                            <li><i class="fas fa-check"></i> Skill Development Focus</li>
                            <li><i class="fas fa-check"></i> Practical Learning</li>
                        </ul>
                    </div>
                    <button class="select-btn" onclick="selectCurriculum('cbc')">Select CBC</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 8-4-4 Registration Form -->
    <div id="form-844" class="registration-form hidden">
        <div class="form-container">
            <h2><i class="fas fa-user-graduate"></i> 8-4-4 Registration</h2>
            <form onsubmit="registerUser(event, '844')">
                <div class="form-group">
                    <input type="text" id="name-844" placeholder="Full Name" required>
                </div>
                <div class="form-row">
                    <select id="form-level-844" required>
                        <option value="">Select Form</option>
                        <option value="Form 1">Form 1</option>
                        <option value="Form 2">Form 2</option>
                        <option value="Form 3">Form 3</option>
                        <option value="Form 4">Form 4</option>
                    </select>
                    <input type="text" id="class-844" placeholder="Class" required>
                </div>
                <div class="form-row">
                    <input type="text" id="stream-844" placeholder="Stream">
                    <input type="text" id="school-844" placeholder="School Name" required>
                </div>
                <div class="form-group">
                    <input type="text" id="adm-844" placeholder="Admission Number" required>
                </div>
                <button type="submit" class="submit-btn">Complete Registration</button>
            </form>
        </div>
    </div>

    <!-- CBC Registration Form -->
    <div id="form-cbc" class="registration-form hidden">
        <div class="form-container">
            <h2><i class="fas fa-user-graduate"></i> CBC Registration</h2>
            <form onsubmit="registerUser(event, 'cbc')">
                <div class="form-group">
                    <input type="text" id="name-cbc" placeholder="Full Name" required>
                </div>
                <div class="form-row">
                    <input type="text" id="school-cbc" placeholder="School Name" required>
                    <select id="grade-cbc" required>
                        <option value="">Select Grade</option>
                        <option value="Grade 1">Grade 1</option>
                        <option value="Grade 2">Grade 2</option>
                        <option value="Grade 3">Grade 3</option>
                        <option value="Grade 4">Grade 4</option>
                        <option value="Grade 5">Grade 5</option>
                        <option value="Grade 6">Grade 6</option>
                        <option value="Grade 7">Grade 7</option>
                        <option value="Grade 8">Grade 8</option>
                        <option value="Grade 9">Grade 9</option>
                        <option value="Grade 10">Grade 10</option>
                        <option value="Grade 11">Grade 11</option>
                        <option value="Grade 12">Grade 12</option>
                    </select>
                </div>
                <div class="form-row">
                    <input type="text" id="stream-cbc" placeholder="Stream (Optional)">
                    <input type="text" id="adm-cbc" placeholder="Admission Number" required>
                </div>
                <button type="submit" class="submit-btn">Complete Registration</button>
            </form>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="main-dashboard" class="hidden">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="logo">
                <h1><i class="fas fa-graduation-cap"></i> WEGEM <span>Learning</span></h1>
            </div>
            <div class="user-info">
                <span id="welcome-user">Welcome, Student</span>
                <div class="ai-status" id="ai-status">
                    <i class="fas fa-circle"></i> AI Status
                </div>
                <button class="logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="main-nav">
            <button class="nav-btn active" onclick="showSection('dashboard')">
                <i class="fas fa-home"></i> Dashboard
            </button>
            <button class="nav-btn" onclick="showSection('ai')">
                <i class="fas fa-robot"></i> WeGEM AI
            </button>
            <button class="nav-btn" onclick="showSection('exams')">
                <i class="fas fa-file-alt"></i> Exams
            </button>
            <button class="nav-btn" onclick="showSection('quiz')">
                <i class="fas fa-question-circle"></i> Quiz
            </button>
            <button class="nav-btn" onclick="showSection('symposium')">
                <i class="fas fa-users"></i> Symposium
            </button>
            <button class="nav-btn" onclick="showSection('notepad')">
                <i class="fas fa-sticky-note"></i> Notepad
            </button>
        </nav>

        <!-- Dashboard Content -->
        <main class="dashboard-content">
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="section">
                <div class="welcome-banner">
                    <h2>Hello, <span id="student-name">Student</span>!</h2>
                    <p>Ready to learn with <strong id="student-curriculum">8-4-4</strong> curriculum</p>
                    <div class="quick-stats">
                        <div class="stat-card">
                            <i class="fas fa-brain"></i>
                            <h3>AI Ready</h3>
                            <p>DeepSeek Powered</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-book"></i>
                            <h3>Subjects</h3>
                            <p>25+ Available</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-trophy"></i>
                            <h3>Progress</h3>
                            <p>Start Learning</p>
                        </div>
                    </div>
                </div>

                <div class="quick-actions">
                    <h3><i class="fas fa-bolt"></i> Quick Actions</h3>
                    <div class="action-grid">
                        <div class="action-card" onclick="showSection('ai')">
                            <i class="fas fa-robot"></i>
                            <h4>Ask WeGEM AI</h4>
                            <p>Get instant help with DeepSeek AI</p>
                        </div>
                        <div class="action-card" onclick="startQuickQuiz()">
                            <i class="fas fa-stopwatch"></i>
                            <h4>Quick Quiz</h4>
                            <p>30 questions • 60s each</p>
                        </div>
                        <div class="action-card" onclick="showSection('exams')">
                            <i class="fas fa-download"></i>
                            <h4>KCSE Papers</h4>
                            <p>Download latest exams</p>
                        </div>
                        <div class="action-card" onclick="showSection('symposium')">
                            <i class="fas fa-gamepad"></i>
                            <h4>Symposium</h4>
                            <p>Group competition</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- WeGEM AI Section -->
            <section id="ai-section" class="section hidden">
                <div class="section-header">
                    <h2><i class="fas fa-robot"></i> WeGEM AI</h2>
                    <p>Powered by DeepSeek AI • Ask questions on any topic</p>
                </div>
                
                <div class="ai-container">
                    <div class="ai-chat" id="ai-chat">
                        <div class="message ai-message">
                            <div class="message-content">
                                <strong>WeGEM AI:</strong> Hello! I'm your AI tutor powered by DeepSeek. I can help you with any subject in the Kenyan curriculum (8-4-4 or CBC). Ask me anything!
                            </div>
                        </div>
                    </div>
                    
                    <div class="ai-input">
                        <textarea id="ai-input" placeholder="Ask me anything about your subjects... (e.g., 'Explain photosynthesis' or 'Help with algebra')"></textarea>
                        <button onclick="askAI()">
                            <i class="fas fa-paper-plane"></i> Send
                        </button>
                    </div>
                    
                    <div class="ai-actions">
                        <button class="ai-action" onclick="generateQuizAI()">
                            <i class="fas fa-question-circle"></i> Generate Quiz
                        </button>
                        <button class="ai-action" onclick="explainTopic()">
                            <i class="fas fa-lightbulb"></i> Explain Topic
                        </button>
                        <button class="ai-action" onclick="solveProblem()">
                            <i class="fas fa-calculator"></i> Solve Problem
                        </button>
                    </div>
                </div>
            </section>

            <!-- Quiz Section -->
            <section id="quiz-section" class="section hidden">
                <div class="section-header">
                    <h2><i class="fas fa-question-circle"></i> Quiz Section</h2>
                    <p>Test your knowledge with AI-generated quizzes</p>
                </div>
                
                <div class="quiz-options">
                    <div class="quiz-type">
                        <h3><i class="fas fa-bolt"></i> Quick Quiz</h3>
                        <p>30 random questions from all topics</p>
                        <p><i class="fas fa-clock"></i> 60 seconds per question</p>
                        <button class="quiz-btn" onclick="startQuickQuiz()">Start Quick Quiz</button>
                    </div>
                    
                    <div class="quiz-type">
                        <h3><i class="fas fa-sliders-h"></i> Custom Quiz</h3>
                        <div class="quiz-filters">
                            <select id="quiz-subject">
                                <option value="">Select Subject</option>
                                <!-- Subjects will be loaded here -->
                            </select>
                            <select id="quiz-topic">
                                <option value="">Select Topic</option>
                            </select>
                            <input type="number" id="quiz-count" placeholder="Questions" value="10" min="5" max="50">
                        </div>
                        <button class="quiz-btn" onclick="generateCustomQuiz()">Generate Quiz</button>
                    </div>
                </div>
                
                <div class="quiz-interface hidden" id="quiz-interface">
                    <!-- Quiz taking interface -->
                </div>
            </section>

            <!-- Exams Section -->
            <section id="exams-section" class="section hidden">
                <div class="section-header">
                    <h2><i class="fas fa-file-alt"></i> Exams Section</h2>
                    <p>KCSE-style papers with daily updates</p>
                </div>
                
                <div class="exams-controls">
                    <select id="exam-subject">
                        <option value="">All Subjects</option>
                    </select>
                    <select id="exam-form">
                        <option value="Form 3">Form 3</option>
                        <option value="Form 4">Form 4</option>
                    </select>
                    <button onclick="loadExams()">
                        <i class="fas fa-search"></i> Search
                    </button>
                </div>
                
                <div class="exams-grid" id="exams-grid">
                    <!-- Exam papers will appear here -->
                </div>
            </section>

            <!-- Symposium Section -->
            <section id="symposium-section" class="section hidden">
                <div class="section-header">
                    <h2><i class="fas fa-users"></i> Symposium</h2>
                    <p>Group competition • 1 minute 30 seconds per question</p>
                </div>
                
                <div class="symposium-setup">
                    <h3>Setup New Game</h3>
                    <div class="setup-form">
                        <input type="text" id="group1" placeholder="Group 1 Name" value="Group Alpha">
                        <input type="text" id="group2" placeholder="Group 2 Name" value="Group Beta">
                        <select id="symposium-subject">
                            <option value="">Select Subject</option>
                        </select>
                        <input type="number" id="symposium-questions" value="10" min="5" max="20">
                    </div>
                    <button class="start-btn" onclick="startSymposium()">
                        <i class="fas fa-play"></i> Start Symposium
                    </button>
                </div>
            </section>

            <!-- Notepad Section -->
            <section id="notepad-section" class="section hidden">
                <div class="section-header">
                    <h2><i class="fas fa-sticky-note"></i> Digital Notepad</h2>
                    <p>Take notes and save your learning</p>
                </div>
                
                <div class="notepad-container">
                    <div class="notepad-tools">
                        <button onclick="newNote()">
                            <i class="fas fa-plus"></i> New Note
                        </button>
                        <button onclick="saveNote()">
                            <i class="fas fa-save"></i> Save
                        </button>
                        <select id="note-subject">
                            <option value="">All Subjects</option>
                        </select>
                    </div>
                    <div class="notepad-editor">
                        <input type="text" id="note-title" placeholder="Note Title">
                        <textarea id="note-content" placeholder="Start typing your notes here..."></textarea>
                    </div>
                    <div class="notes-list" id="notes-list">
                        <!-- Notes will appear here -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Notification System -->
    <div id="notification" class="notification hidden">
        <span id="notification-message"></span>
    </div>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="ai-service.js"></script>
    <script src="script.js"></script>
</body>
</html>
